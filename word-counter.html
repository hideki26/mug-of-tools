<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contador de Palabras y Caracteres</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <iframe src="header.html" style="width:100%; border:none;"></iframe>

  <h2>Contador de Palabras y Caracteres</h2>

  <div class="container">
    <textarea id="inputText" placeholder="Escribe o pega tu texto aquí..."></textarea>

    <div class="button-group">
      <label for="minChars">Mínimo:</label>
      <input type="number" id="minChars" min="0" value="0">
      <label for="maxChars">Máximo:</label>
      <input type="number" id="maxChars" min="0" value="0">
      <button id="checkRange">Comprobar rango</button>
    </div>

    <div class="output-container">
      <h2>Resultados</h2>
      <ul id="results">
        <li>Total de caracteres: <span id="totalChars">0</span></li>
        <li>Caracteres sin espacios: <span id="charsNoSpaces">0</span></li>
        <li>Total de palabras: <span id="wordCount">0</span></li>
      </ul>
      <p id="rangeResult"></p>
    </div>
  </div>

  <script>
    const inputText = document.getElementById("inputText");
    const totalChars = document.getElementById("totalChars");
    const charsNoSpaces = document.getElementById("charsNoSpaces");
    const wordCount = document.getElementById("wordCount");
    const minChars = document.getElementById("minChars");
    const maxChars = document.getElementById("maxChars");
    const rangeResult = document.getElementById("rangeResult");
    const checkRangeBtn = document.getElementById("checkRange");

    function updateCounts() {
      const text = inputText.value;
      const total = text.length;
      const noSpaces = text.replace(/\s/g, "").length;
      const words = text.trim().length > 0 ? text.trim().split(/\s+/).length : 0;

      totalChars.textContent = total;
      charsNoSpaces.textContent = noSpaces;
      wordCount.textContent = words;
    }

    inputText.addEventListener("input", updateCounts);

    checkRangeBtn.addEventListener("click", () => {
      const total = inputText.value.length;
      const min = parseInt(minChars.value) || 0;
      const max = parseInt(maxChars.value) || 0;

      if (max > 0 && total > max) {
        rangeResult.textContent = `❌ El texto supera el máximo de ${max} caracteres.`;
        rangeResult.style.color = "red";
      } else if (total < min) {
        rangeResult.textContent = `❌ El texto no alcanza el mínimo de ${min} caracteres.`;
        rangeResult.style.color = "red";
      } else {
        rangeResult.textContent = "✅ El texto está dentro del rango.";
        rangeResult.style.color = "green";
      }
    });

    // Inicializar al cargar
    updateCounts();
  </script>
</body>
</html>
